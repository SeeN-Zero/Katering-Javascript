<!DOCTYPE html>
<html lang="en">

<%- include fragment/head.ejs %>

<body id="page-top">
<%- include fragment/toast.ejs %>

<!-- Page Wrapper -->
<div id="wrapper">

    <!-- Sidebar -->
    <%- include fragment/sidebar.ejs %>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
        <!-- Main Content -->
        <div id="content">

            <!-- Topbar -->
            <%- include fragment/topbar.ejs %>
            <!-- End of Topbar -->

            <!-- Begin Page Content -->
            <div class="container-fluid">
                <!-- Content Row -->
                <div class="col">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <div class="row">
                                <div class="col-md">
                                    <h3 class="m-0 font-weight-bold text-primary">
                                        Daftar Artikel
                                    </h3>
                                </div>
                                <div class="colmd"><a href="/articleadd" class="btn btn-success btn-icon-split">
                                        <span class="icon text-white-50">
                                            <i class="fa-solid fa-plus"></i>
                                        </span>
                                        <span class="text">Buat Artikel</span>
                                    </a></div>

                            </div>
                        </div>
                        <div class="card-body">

                            <div class="table-responsive">

                                <table id="example" class="table table-striped table-bordered" style="width:100%">
                                    <thead>
                                    <tr>
                                        <th style="width: 15%">Judul</th>
                                        <th style="width: 70%">Deskripsi</th>
                                        <th style="width: 10%">Aksi</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <% articles.forEach(function(article) { %>
                                        <tr>
                                            <td><%= article.title; %></td>
                                            <td><%= article.caption; %></td>
                                            <td>
                                                <div class="row">
                                                    <div class="col-3"><a href="/articleupdate/<%= article._id; %>">
                                                            <i class="fa-solid fa-pen-to-square"></i>
                                                        </a></div>
                                                    <div class="col-3">
                                                        <a href="#delete<%= article._id; %>"
                                                           data-toggle="modal">
                                                            <i class="fa-solid fa-trash"></i>
                                                        </a>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <div id="delete<%= article._id; %>" class="modal fade" data-backdrop="static">
                                            <div class="modal-dialog modal-dialog-centered">
                                                <div class="modal-content">
                                                    <form>
                                                        <div class="modal-header">
                                                            <h4 class="modal-title">Hapus Artikel</h4>
                                                            <button
                                                                    class="close"
                                                                    type="button"
                                                                    data-dismiss="modal"
                                                                    aria-label="Close"
                                                            >
                                                                <span aria-hidden="true">Ã—</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <p>Apakah yakin ingin menghapus artikel ini?</p>
                                                            <p class="text-warning"><small>Data yang dihapus tidak bisa
                                                                    dipulihkan.</small></p>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary"
                                                                    data-dismiss="modal">Batal
                                                            </button>
                                                            <a type="button" class="btn btn-danger"
                                                               href="/article/delete/<%= article._id; %>">Hapus</a>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    <% }); %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Main Content -->

        <!-- Footer -->
        <%- include fragment/foot.ejs %>
        <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

</div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button -->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>

<!-- Logout -->
<%- include fragment/logout.ejs %>
</body>
</html>